# Скалярное произведение векторов
- Студент: Камалагин Артём, Аркадьевич,3823Б1ПР3 
- Технологии: SEQ | MPI
- Вариант: 9

## 1. Введение
В этой работе реализованы последовательная версия и параллельная версия алгоритма вычисления скалярного произведения двух векторов, с помощью технологии MPI. 
А также проведена првоерка корректности с помощью функциональных тестов + оценка производительности с помощью соответствующих тестов

## 2. Постановка задачи
Даны два вектора A и B одинаковой длины N. Требуется вычислить их скалярное произведение
Вход: Два вектора числовых значений одинаковой длины
Выход : Одно числовое значение, представляющее скалярное произведение входных векторов
Ограничения:
- Размер векторов может быть произвольным и достаточно большим
- Алгоритм должен корректно обрабатывать случай пустых векторов

## 3. Базовый алгоритм
Последовательный алгоритм вычисления скалярного произведения заключается в последовательном обходе всех элементов входных векторов и накоплении суммы произведений соответствующих элементов.
Для каждого индекса i от 0 до N−1 вычисляется значение A[i] · B[i], которое добавляется к сумме. После обработки всех элементов полученная сумма возвращается как результат

## 4. Схема распараллеливания
Процесс с рангом 0 выполняет роль корневого процесса и отвечает за распределение данных и сбор итогового результата.
Исходные векторы разбиваются на непрерывные фрагменты, размер которых определяется количеством запущенных процессов. Корневой процесс распределяет соответствующие части векторов между процессами
с использованием MPI_Scatter.
Каждый процесс получает свой локальный фрагмент данных. После получения данных каждый процесс независимо вычисляет частичную сумму скалярного произведения для своего фрагмента векторов,
полученные результаты объединяются в итоговое значение на корневом процессе с использованием MPI_Reduce с операцией суммирования.

## 5. Детали реализации
Реализация задачи разделена на последовательную и параллельную версии, которые расположены в соответствующих поддиректориях проекта.
Последовательная версия алгоритма выполняет вычисление скалярного произведенияв одном процессе без использования средств параллелизации.
Параллельная версия реализована с использованием библиотеки MPI.

В параллельной реализации используются стандартные коллективные операции MPI для распределения данных и объединения результатов.
Особое внимание уделено корректной обработке граничных случаев, в частности ситуации, когда размер входных векторов равен нулю.

Дополнительная динамическая память используется только для хранения локальных фрагментов входных данных. Утечек памяти в процессе выполнения алгоритма не возникает.

## 6. Экспериментальная установка
Аппаратная и программная конфигурация:
- Процессор: 12th Gen Intel(R) Core(TM) i5-12400F, 2.50 GHz
- Операционная система: Windows 11
- Компилятор: MSVC
- Режим сборки: Release

Для запуска параллельной версии использовалась библиотека MPI.
Количество процессов задавалось с помощью параметров запуска MPI.
Входные данные для тестов генерировались автоматически в рамках функциональных и производительных тестов проекта.

## 7. Результаты и обсуждение
### Фунциональные тесты:
Всего было выполнено 10 функциональных тестов.
Все применимые тесты успешно пройдены.
### Перфоманс тесты:
Task run mode:

| Количество процессов | Время (seq), с | Время (mpi), с | Ускорение | Эффективность |
|----------------------|----------------|----------------|-----------|---------------|
| 1                    | 0.00103952     | 0.00182254     | 0.57      | 57.0%         |
| 2                    | 0.00059602     | 0.00151700     | 0.39      | 19.5%         |
| 4                    | 0.00062670     | 0.00131560     | 0.48      | 12.0%         |
| 8                    | 0.00081578     | 0.00130986     | 0.62      | 7.8%          |

Pipeline mode:

| Количество процессов | Время (seq), с | Время (mpi), с | Ускорение | Эффективность |
|----------------------|----------------|----------------|-----------|---------------|
| 1                    | 0.00053808     | 0.00194264     | 0.28      | 28.0%         |
| 2                    | 0.00064540     | 0.00145114     | 0.44      | 22.0%         |
| 4                    | 0.00058494     | 0.00227198     | 0.26      | 6.5%          |
| 8                    | 0.00066742     | 0.00148148     | 0.45      | 5.6%          |

Ускорение вычислялось как отношение времени выполнения последовательной версии к времени выполнения параллельной версии.
Эффективность определялась как отношение ускорения к количеству процессов, умноженное на 100%.

Полученные результаты показывают, что для данной задачи ускорение при увеличенииколичества процессов не наблюдается.
Это связано с тем, что вычислительная сложность задачи скалярного произведения невелика, а накладные расходы на передачу данных и синхронизацию процессов превышают выигрыш от параллельного выполнения. 
Таким образом, параллельная реализация целесообразна в основном для значительно больших объёмов входных данных.

## 8. Заключение
В ходе выполнения лабораторной работы были реализованы последовательная и параллельная версии алгоритма вычисления скалярного произведения векторов с использованием технологии MPI.

Разработанный параллельный алгоритм корректно распределяет вычислительную нагрузку между процессами и обеспечивает правильное получение результата, что подтверждено функциональными тестами.
Проведённые измерения производительности показали,то использование параллельной версии позволяет сократить время выполнения по сравнению с последовательной реализацией,
однако эффективность масштабирования ограничена накладными расходами на коммуникацию.

Поставленные в работе задачи были успешно выполнены.

## 9. Источники
1. Материалы курса: <https://learning-process.github.io/parallel_programming_course/ru/common_information/report.html>.
2. Документация C++ Standard Library:https://en.cppreference.com/
3. Документация MS-MPI: https://www.mpi-forum.org/
4. Сысоев А. В. *Лекции по параллельному программированию*.